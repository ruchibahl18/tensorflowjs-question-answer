<!-- Make sure your page supports utf-8 characterset. -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- Load TensorFlow.js. This is required to use the qna model. -->
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"> </script>
<!-- Load the qna model. -->
<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/qna"> </script>

<style>
body {
  width: 750px;
  margin: 0 auto;
}

.one-edge-shadow {
	-webkit-box-shadow: 0 8px 6px -6px black;
	   -moz-box-shadow: 0 8px 6px -6px black;
	        box-shadow: 0 8px 6px -6px black;
}
input {
    border: 5px solid white; 
    -webkit-box-shadow: 
      inset 0 0 8px  rgba(0,0,0,0.1),
            0 0 16px rgba(0,0,0,0.1); 
    -moz-box-shadow: 
      inset 0 0 8px  rgba(0,0,0,0.1),
            0 0 16px rgba(0,0,0,0.1); 
    box-shadow: 
      inset 0 0 8px  rgba(0,0,0,0.1),
            0 0 16px rgba(0,0,0,0.1); 
    padding: 15px;
    background: rgba(255,255,255,0.5);
    margin: 0 0 10px 0;
}

</style>
<body>
	<h1 style='color:#FF5733;'> Tensorflow.js - Question Answer example </h1>
	<div id='passage' class='one-edge-shadow' style="margin:10px;background-color: #E6E6FA;padding:10px;color: #0900C4; font: Helvetica 12pt;">A coronavirus is a kind of common virus that causes an infection in your nose, sinuses, or upper throat. Most coronaviruses aren't dangerous. In early 2020, after a December 2019 outbreak in China, the World Health Organization identified SARS-CoV-2 as a new type of coronavirus. The outbreak quickly spread around the world. COVID-19 is a disease caused by SARS-CoV-2 that can trigger what doctors call a respiratory tract infection. It can affect your upper respiratory tract (sinuses, nose, and throat) or lower respiratory tract (windpipe and lungs). It spreads the same way other coronaviruses do, mainly through person-to-person contact. Infections range from mild to deadly SARS-CoV-2 is one of seven types of coronavirus, including the ones that cause severe diseases like Middle East respiratory syndrome (MERS) and sudden acute respiratory syndrome (SARS). The other coronaviruses cause most of the colds that affect us during the year but aren’t a serious threat for otherwise healthy people. Is there more than one strain of SARS-CoV-2? An early Chinese study of 103 COVID-19 cases found two strains, which they named L and S. The S type is older, but the L type was more common in early stages of the outbreak. They think one may cause more cases of the disease than the other, but they’re still working on what it all means. It is also normal for a virus to change, or mutate, as it infects people and this virus has done so. There are several variants which have been named for the regions they were first discovered but they have now spread to other areas and countries, some proving to be more contageous as well as more deadly. How long will the coronavirus last? There's no way to tell how long the pandemic will continue. There are many factors, including the public’s efforts to slow the spread, researchers’ work to learn more about the virus, their search for a treatment, and the success of the vaccines.</div>
	<div style='text-align: center; padding: 10px;'>
		<input type='text' id='question' placeholder='Ask a question'></input>
		<input type='submit' id='submit' value='Submit' />
	</div>
	<div id='result' class='one-edge-shadow' style="color: #FF00FF;margin:10px;background-color: #DAF7A6;text-align:center"></div>

	<!-- Place your code in the script tag below. You can also use an external .js file -->
	<script>
	  // Notice there is no 'import' statement. 'qna' and 'tf' is
	  // available on the index-page because of the script tag above.
		const predict = async () => {
		  model = await qna.load();

		  document.getElementById('submit')
			  .addEventListener('click', (e) => {
				const passage = document.getElementById('passage').innerHTML;
				const question = document.getElementById('question').value;
				model.findAnswers(question, passage).then(answers => {
				  console.log('Answers: ', answers);
				  document.getElementById('result').innerHTML = answers[0].text;
				});

				// Prevent submitting the form which would cause a page reload.
				e.preventDefault();
			  });
		};

	predict();
	</script>
</body>